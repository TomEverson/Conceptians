---
import Head from "../Layout/Head.astro"
import Header from "../Components/Header.astro"
import Footer from "../Components/Footer.astro"


export async function getStaticPaths() {
    const response = await fetch('http://localhost:8000/blog');
    const articles = await response.json();
    const routes = []
    

  articles.map(blog => (
    routes.push({
      params: { title: blog.title },
      props: { blog },
    }
    )
  ))
  return routes;
  }

const {title} = Astro.params;
const {blog} = Astro.props;


---

<Head title = {title}></Head>



<body>
    <Header></Header>
    <main>
      <div class="container-sm mt-5">
    <h1>{blog.title}</h1>
    <img src={blog.Link} alt="">
    <p>{blog.author}</p>
    <p>{blog.published}</p>
    <p>{blog.read}</p>
    <div set:html={blog.body}></div>
    <div set:html={blog.translate}></div>
  </div>
    </main>
</body>
    


<style>

html{
	margin: 0;
	padding: 0;

}



body{
  margin: 0;
	width: 100vw;
  height: 100vh;
}

main{
  height: 100vh;
  overflow-y: scroll;
}

</style>